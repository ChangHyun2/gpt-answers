React Query ì“°ëŠ” ì „ì œë©´ â€œì—ëŸ¬ë¥¼ ì–´ë””ì„œ ì¡ì„ ìˆ˜ ìˆë‚˜â€ê°€ ì œì¼ ì¤‘ìš”í•´. ê²°ë¡ ë¶€í„° ë§í•˜ë©´ ì—ëŸ¬ëŠ” í¬ê²Œ 2ê°ˆë˜ë¡œ ë‚˜ëˆ ì„œ ì„¤ê³„í•˜ëŠ” ê²Œ ê¹”ë”í•´.

(A) í™”ë©´/ì»´í¬ë„ŒíŠ¸ ìì²´ê°€ ì£½ëŠ” ì—ëŸ¬ â†’ ErrorBoundaryê°€ ë©”ì¸

(B) ë°ì´í„°/ë¹„ë™ê¸°/ì‚¬ìš©ì ì•¡ì…˜ì—ì„œ ë‚˜ëŠ” ì—ëŸ¬ â†’ React Query onError + try/catch + ì „ì—­ í•¸ë“¤ëŸ¬ ì¡°í•©

ì•„ë˜ëŠ” ë„¤ê°€ ë§í•œ 4ê°€ì§€ ìœ í˜•ì„ ê¸°ì¤€ìœ¼ë¡œ â€œì¶”ì²œ ì¡°í•©â€ì„ ë”± ì •ë¦¬í•´ì¤„ê²Œ.

1) ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ (Render/Lifecycle)

ì¶”ì²œ: ErrorBoundary + â€œë¼ìš°íŠ¸ ë‹¨ìœ„ë¡œ ê°ì‹¸ê¸°â€

ErrorBoundaryëŠ” ë Œë”ë§ ì¤‘, ìƒëª…ì£¼ê¸°, ìì‹ ì»´í¬ë„ŒíŠ¸ ìƒì„± ì¤‘ ì—ëŸ¬ë¥¼ ì¡ì•„ì¤Œ

ëŒ€ì‹  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬, setTimeout, Promise, useEffect ë‚´ë¶€ async ì´ëŸ° ê±´ ëª» ì¡ìŒ

íŒ¨í„´

App ì „ì²´ì— í•˜ë‚˜(ìµœí›„ì˜ ë³´ë£¨)

â€œí˜ì´ì§€(ë¼ìš°íŠ¸) ë‹¨ìœ„â€ë¡œ í•˜ë‚˜ì”©(ì‚¬ìš©ì ê²½í—˜ ì¢‹ìŒ)

ìœ„ì ¯/ì¹´ë“œì²˜ëŸ¼ ë¶€ë¶„ UIë„ í•„ìš”í•˜ë©´ ì‘ì€ Boundary ì¶”ê°€

<GlobalErrorBoundary>
  <Routes>
    <Route
      path="/orders"
      element={
        <PageErrorBoundary fallback={<OrdersPageFallback />}>
          <OrdersPage />
        </PageErrorBoundary>
      }
    />
  </Routes>
</GlobalErrorBoundary>

2) CRUD ìš”ì²­ ì—ëŸ¬ (React Query)

ì—¬ê¸´ React Queryê°€ ê±°ì˜ ì •ë‹µì„ ì¤˜.

(1) ì¤‘ì•™ ì§‘ì¤‘: QueryClient ê¸°ë³¸ ì˜µì…˜ onError

ì¶”ì²œ: â€œì „ì—­ ë¡œê¹…/ê³µí†µ ì²˜ë¦¬â€ë§Œ ì—¬ê¸°ì„œ í•˜ê³ , UI í† ìŠ¤íŠ¸ëŠ” ì¡°ì‹¬(ì¤‘ë³µ í­íƒ„ë‚¨)

ì˜ˆ: 401ì´ë©´ ë¡œê·¸ì•„ì›ƒ/ë¦¬í”„ë ˆì‹œ í† í° í”Œë¡œìš°

500ì´ë©´ ê³µí†µ â€œì¼ì‹œì  ì˜¤ë¥˜â€ UI

Sentry/Datadog ë“± ë¡œê¹…

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      retry: (count, err) => shouldRetry(err, count),
      onError: (err) => {
        reportError(err, { layer: "react-query:query" });
      },
    },
    mutations: {
      onError: (err) => {
        reportError(err, { layer: "react-query:mutation" });
      },
    },
  },
});

(2) ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„: useQuery/useMutationì˜ onError / error UI

ì¶”ì²œ: ìœ ì €ì—ê²Œ ë³´ì—¬ì¤„ ë©”ì‹œì§€/ë³µêµ¬(ì¬ì‹œë„ ë²„íŠ¼ ë“±)ëŠ” â€œì—¬ê¸°ì„œâ€

const mutation = useMutation({
  mutationFn: updateProfile,
  onError: (err) => {
    toast.error(toUserMessage(err));
  },
  onSuccess: () => toast.success("ì €ì¥ ì™„ë£Œ"),
});

(3) â€œì •ë§ ê°•ë ¥ ì¶”ì²œâ€ ì˜µì…˜: ErrorBoundaryë¡œ ì¿¼ë¦¬ ì—ëŸ¬ë¥¼ ë„˜ê¸¸ì§€

React QueryëŠ” ì¿¼ë¦¬ ì—ëŸ¬ë¥¼ ErrorBoundaryë¡œ ë˜ì§€ê²Œ í•  ìˆ˜ ìˆì–´(ì„¤ì •/ë²„ì „ë³„ ì˜µì…˜ ì´ë¦„ì€ ì¡°ê¸ˆ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ).

â€œì´ í˜ì´ì§€ëŠ” ë°ì´í„° ì—†ìœ¼ë©´ ì˜ë¯¸ê°€ ì—†ë‹¤â€ â†’ Boundaryë¡œ ë³´ë‚´ê³  í˜ì´ì§€ fallback ë³´ì—¬ì£¼ê¸° ğŸ‘

â€œë¶€ë¶„ ì‹¤íŒ¨ì—¬ë„ í˜ì´ì§€ëŠ” ì‚´ì•„ì•¼ í•œë‹¤â€ â†’ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì²˜ë¦¬ ğŸ‘

3) useEffect ì—ëŸ¬

í•µì‹¬: ErrorBoundaryê°€ ëª» ì¡ëŠ” ê²½ìš°ê°€ ë§ì•„(íŠ¹íˆ async)

ì¶”ì²œ íŒ¨í„´

effect ë‚´ë¶€ë¥¼ try/catchë¡œ ê°ì‹¸ê³ 

í•„ìš”í•˜ë©´ â€œì—ëŸ¬ ìƒíƒœâ€ë¡œ ë°”ê¿”ì„œ UIì— ë°˜ì˜

í˜¹ì€ reportErrorë¡œë§Œ ë³´ë‚´ê³  ì¡°ìš©íˆ ë¬´ì‹œ(ë¹„í•µì‹¬ íš¨ê³¼ì¼ ë•Œ)

useEffect(() => {
  let cancelled = false;

  (async () => {
    try {
      const data = await something();
      if (!cancelled) setState(data);
    } catch (err) {
      reportError(err, { layer: "useEffect" });
      // í•„ìš”í•˜ë©´ setErrorState(err)
    }
  })();

  return () => { cancelled = true; };
}, []);


íŒ: â€œë°ì´í„° fetchâ€ë¥¼ useEffectì—ì„œ ì§ì ‘ í•˜ì§€ ë§ê³  React Queryë¡œ ëª°ì•„ë„£ëŠ” ê²ƒ ìì²´ê°€ ì—ëŸ¬ í•¸ë“¤ë§ì„ ì—„ì²­ ë‹¨ìˆœí•˜ê²Œ í•´ì¤˜.

4) í•¸ë“¤ëŸ¬ í•¨ìˆ˜ ì—ëŸ¬ (onClick, onSubmit ë“±)

í•µì‹¬: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì—ëŸ¬ë„ ErrorBoundaryê°€ ëª» ì¡ì•„. ì—¬ê¸°ì„œë„ try/catchê°€ ê¸°ë³¸.

ì¶”ì²œ íŒ¨í„´

ë™ê¸°/ë¹„ë™ê¸° ìƒê´€ì—†ì´ í•¸ë“¤ëŸ¬ì—ì„œ ì¡ì•„ì„œ

ì‚¬ìš©ì ë©”ì‹œì§€(toast/dialog)

ë¡œê¹…(reportError)

í•„ìš”ì‹œ í¼ ì—ëŸ¬ ìƒíƒœ ë°˜ì˜

const onSave = async () => {
  try {
    await mutation.mutateAsync(payload);
  } catch (err) {
    // mutateAsyncëŠ” throw ë˜ë‹ˆê¹Œ ì—¬ê¸°ì„œ í†µì¼í•´ì„œ ì²˜ë¦¬ ê°€ëŠ¥
    toast.error(toUserMessage(err));
    reportError(err, { layer: "handler:onSave" });
  }
};

â€œì¤‘ì•™ ì§‘ì¤‘ vs ì»´í¬ë„ŒíŠ¸ ê°œë³„â€ ì¶”ì²œ ì„¤ê³„ (í˜„ì—…ì—ì„œ ì œì¼ ëœ ì‚½ì§ˆí•˜ëŠ” êµ¬ì„±)
ì¤‘ì•™ ì§‘ì¤‘(ì „ì—­)ì—ì„œ í•˜ëŠ” ê²ƒ

ë¡œê¹…/ê´€ì¸¡: reportError(err, context) í•˜ë‚˜ë¡œ í†µì¼

ì¸ì¦/ê¶Œí•œ ê³µí†µ ì²˜ë¦¬: 401, í† í° ë§Œë£Œ, ê°•ì œ ë¡œê·¸ì•„ì›ƒ

ì¹˜ëª…ì  UI fallback: Global ErrorBoundary

unhandled ì—ëŸ¬ ìˆ˜ì§‘

window.onerror

window.onunhandledrejection

ì „ì—­ì—ì„œ â€œí† ìŠ¤íŠ¸ê¹Œì§€â€ ë‹¤ í•´ë²„ë¦¬ë©´ ì¤‘ë³µ ì•Œë¦¼ ì§€ì˜¥ì´ ì—´ë¦´ í™•ë¥ ì´ ë†’ì•„ì„œ ë¹„ì¶”.

ì»´í¬ë„ŒíŠ¸(ê°œë³„)ì—ì„œ í•˜ëŠ” ê²ƒ

ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ ë©”ì‹œì§€(ë¬¸êµ¬/í–‰ë™ ìœ ë„)

ë³µêµ¬ UI: ì¬ì‹œë„ ë²„íŠ¼, ì¼ë¶€ë§Œ fallback

ë„ë©”ì¸ë³„ ì˜ˆì™¸: â€œì´ë¯¸ ì‚­ì œë¨â€, â€œì¬ê³  ì—†ìŒâ€ ê°™ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ì¼€ì´ìŠ¤

ì‹¤ì „ íŒ: â€œì—ëŸ¬ë¥¼ ë¶„ë¥˜í•˜ëŠ” í•¨ìˆ˜â€ í•˜ë‚˜ ë§Œë“¤ë©´ ì‚¶ì´ í¸í•´ì§

ì „ì—­/ê°œë³„ ëª¨ë‘ì—ì„œ ê°™ì€ ê¸°ì¤€ìœ¼ë¡œ ì²˜ë¦¬í•˜ë ¤ë©´ ìµœì†Œí•œ ì´ 3ê°€ì§€ëŠ” ìˆìœ¼ë©´ ì¢‹ì•„:

isAuthError(err) (401/403)

isNetworkError(err) (Failed to fetch ë“±)

toUserMessage(err) (ìœ ì € ë¬¸êµ¬ ë³€í™˜)



í° í™”ë©´

1ï¸âƒ£ Global ErrorBoundaryë¡œ í•´ê²° ê°€ëŠ¥í•œ í° í™”ë©´
âœ… ë Œë”ë§ ì¤‘ throwëœ ì—ëŸ¬
function Profile() {
  // ì˜ˆ: undefined ì ‘ê·¼
  return <div>{user.name}</div>;
}


render ì¤‘ ì—ëŸ¬

child ì»´í¬ë„ŒíŠ¸ ìƒì„± ì¤‘ ì—ëŸ¬

class component lifecycle ì—ëŸ¬

ğŸ‘‰ Global ErrorBoundaryê°€ ìˆìœ¼ë©´

ì•± ì „ì²´ê°€ ì£½ëŠ” ëŒ€ì‹ 

fallback UIê°€ ëœ¸

â€œí•˜ì–€ í™”ë©´â€ ë°©ì§€ë¨

â†’ ì´ê²Œ ì œì¼ í”í•œ ì¼€ì´ìŠ¤ê³ , ErrorBoundary í•˜ë‚˜ë§Œ ìˆì–´ë„ ì²´ê° ê°œì„  í¼

2ï¸âƒ£ Global ErrorBoundaryë¡œ ëª» ì¡ëŠ” í° í™”ë©´
âŒ (1) ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì—ëŸ¬
<button onClick={() => {
  throw new Error("boom");
}}>


í´ë¦­ ìˆœê°„ ì½˜ì†”ì—” ì—ëŸ¬

React íŠ¸ë¦¬ ìì²´ëŠ” ì´ë¯¸ ë Œë”ë¨

ğŸ‘‰ ErrorBoundary ì•ˆ ì¡í˜

âŒ (2) useEffect / async ì—ëŸ¬
useEffect(() => {
  fetchSomething().then(() => {
    throw new Error("boom");
  });
}, []);


ğŸ‘‰ ErrorBoundary ì•ˆ ì¡í˜

âŒ (3) ì´ˆê¸° JS ë¡œë”© ì‹¤íŒ¨

chunk ë¡œë”© ì‹¤íŒ¨

ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ

ë°°í¬ ì§í›„ ìºì‹œ ê¼¬ì„

Loading chunk 12 failed


ğŸ‘‰ Reactê°€ ì•„ì˜ˆ ì‹¤í–‰ë˜ê¸° ì „ì´ë¼
ğŸ‘‰ ErrorBoundaryê°€ ì¡´ì¬í•  ê¸°íšŒì¡°ì°¨ ì—†ìŒ

âŒ (4) ë¬´í•œ ë Œë” / ë¬´í•œ ìƒíƒœ ì—…ë°ì´íŠ¸
useEffect(() => {
  setState(x + 1);
}, [x]);


CPU 100%

í™”ë©´ ê°±ì‹  ì•ˆ ë¨

ğŸ‘‰ ErrorBoundaryë„ ëª» ì‚´ë¦¼

3ï¸âƒ£ ê·¸ë˜ì„œ ì‹¤ì „ì—ì„œ ì“°ëŠ” â€œí° í™”ë©´ ë°©ì§€ í’€ì„¸íŠ¸â€
âœ… 1. Global ErrorBoundary (ë¬´ì¡°ê±´)
<GlobalErrorBoundary fallback={<FatalErrorScreen />}>
  <App />
</GlobalErrorBoundary>


ì´ê±° ì—†ìœ¼ë©´ í° í™”ë©´ í™•ë¥  ê¸‰ìƒìŠ¹

âœ… 2. Route ë‹¨ìœ„ ErrorBoundary (ê°•ì¶”)
<Route
  path="/orders"
  element={
    <RouteErrorBoundary>
      <OrdersPage />
    </RouteErrorBoundary>
  }
/>


íŠ¹ì • í˜ì´ì§€ ì—ëŸ¬ â†’ ì•± ì „ì²´ëŠ” ì‚´ì•„ìˆìŒ

UX ì²´ê° í™• ì¢‹ì•„ì§

âœ… 3. React Query + ErrorBoundary ì—°ë™

â€œë°ì´í„° ì—†ìœ¼ë©´ ì˜ë¯¸ ì—†ëŠ” í˜ì´ì§€â€ì¼ ë•Œ

ì¿¼ë¦¬ ì—ëŸ¬ë¥¼ boundaryë¡œ ë˜ì ¸ì„œ

í˜ì´ì§€ fallbackìœ¼ë¡œ ì „í™˜

ğŸ‘‰ ë°ì´í„° ì‹¤íŒ¨ â†’ í•˜ì–€ í™”ë©´ âŒ
ğŸ‘‰ â€œë¬¸ì œ ë°œìƒ / ì¬ì‹œë„â€ í™”ë©´ â­•

âœ… 4. chunk ë¡œë”© ì‹¤íŒ¨ ëŒ€ì‘ (ì´ê±° ì§„ì§œ ì¤‘ìš”)

ê°€ë” ëœ¨ëŠ” í° í™”ë©´ì˜ ì§„ì§œ ë²”ì¸

window.addEventListener("error", (e) => {
  if (e.message?.includes("Loading chunk")) {
    window.location.reload();
  }
});


ë°°í¬ í›„ ê°€ì¥ íš¨ê³¼ ì¢‹ì€ ì‘ê¸‰ì²˜ì¹˜

Sentryì—ì„œë„ ê±°ì˜ í•„ìˆ˜ íŒ¨í„´

âœ… 5. ìµœí›„ì˜ ë³´ë£¨: index.html ë ˆë²¨ fallback
<div id="root">
  <noscript>JavaScript is required.</noscript>
</div>


ë¡œë”© ì¤‘ ìŠ¤ì¼ˆë ˆí†¤/ë¬¸êµ¬

ì•„ë˜ëŠ” React + React Query + SPA(ë²ˆë“¤) + ë¸Œë¼ìš°ì € í™˜ê²½ ê¸°ì¤€ìœ¼ë¡œ â€œì¢…ë¥˜ë³„ ì„¸ë¶„í™”â€ ëª©ë¡ì´ì•¼. (ê° í•­ëª©ë§ˆë‹¤ ëŒ€í‘œ ì¦ìƒ / ì¡ëŠ” ë°©ë²•ë„ ê°™ì´ ì ì—ˆì–´.)

1) ë Œë”ë§/ë¦¬ì•¡íŠ¸ ëŸ°íƒ€ì„ ê³„ì—´
1-1. Render ì—ëŸ¬ (render phase)

ì˜ˆ: Cannot read properties of undefined, ì˜ëª»ëœ JSX, íƒ€ì… ê°€ì • ê¹¨ì§

ì¦ìƒ: í° í™”ë©´, íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë§Œ ê¹¨ì§

ìº¡ì²˜: âœ… ErrorBoundary ê°€ëŠ¥

1-2. Lifecycle ì—ëŸ¬ (class lifecycle)

ì˜ˆ: componentDidMountì—ì„œ throw

ìº¡ì²˜: âœ… ErrorBoundary ê°€ëŠ¥

1-3. Hook ê·œì¹™ ìœ„ë°˜ / invalid hook call

ì˜ˆ: ì¡°ê±´ë¬¸ ì•ˆì—ì„œ hook í˜¸ì¶œ, ì¤‘ë³µ React ë²„ì „, ì˜ëª»ëœ ë²ˆë“¤ë§

ì¦ìƒ: ì•± ì¦‰ì‹œ í„°ì§, ì½˜ì†”ì— â€œInvalid hook callâ€¦â€

ìº¡ì²˜: ë³´í†µ âŒ (ì•± ë¶€íŒ… ìì²´ê°€ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ)

1-4. ë¬´í•œ ë Œë” / ë„ˆë¬´ ë§ì€ re-render

ì˜ˆ: render ì¤‘ setState, effect ì˜ì¡´ì„± ì‹¤ìˆ˜

ì¦ìƒ: â€œToo many re-rendersâ€, ë¸Œë¼ìš°ì € ë©ˆì¶¤

ìº¡ì²˜: ì¼ë¶€ëŠ” âœ… ErrorBoundary(throwì¸ ê²½ìš°), í•˜ì§€ë§Œ ë©ˆì¶¤ì€ âŒ

1-5. Suspense/ëŸ°íƒ€ì„ ê²½ê³„ ë¬¸ì œ

ì˜ˆ: Suspense boundary ì—†ìŒ, lazy ë¡œë”© êµ¬ì„± ì‹¤ìˆ˜

ì¦ìƒ: í™”ë©´ì´ ì˜ì›íˆ ë¡œë”©, fallbackë§Œ ëœ¸

ìº¡ì²˜: ë¶€ë¶„ì ìœ¼ë¡œ âœ… (ì„¤ì •/êµ¬ì„± ë¬¸ì œëŠ” ë³„ë„)

2) ì´ë²¤íŠ¸/í•¸ë“¤ëŸ¬(ì‚¬ìš©ì ì•¡ì…˜) ê³„ì—´
2-1. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ throw

ì˜ˆ: onClickì—ì„œ throw

ìº¡ì²˜: âŒ ErrorBoundary(ê¸°ë³¸ì ìœ¼ë¡œ ëª» ì¡ìŒ)

ëŒ€ì‘: í•¸ë“¤ëŸ¬ ë‚´ë¶€ try/catch, ë¡œê¹…

2-2. í¼ ì²˜ë¦¬/ê²€ì¦ ì—ëŸ¬

ì˜ˆ: schema validation ì‹¤íŒ¨, ì…ë ¥ê°’ ë³€í™˜ ì‹¤íŒ¨

ëŒ€ì‘: ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ ì²˜ë¦¬(í•„ë“œ ì—ëŸ¬), ê³µí†µ ë©”ì‹œì§€ ë§¤í•‘

2-3. Mutation ì‹¤íŒ¨

ì˜ˆ: ì €ì¥/ì‚­ì œ/ì—…ë¡œë“œ ì‹¤íŒ¨

ëŒ€ì‘: React Query useMutationì˜ onError + mutateAsync try/catch

3) Effect/ë¹„ë™ê¸° ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ê³„ì—´
3-1. useEffect ë‚´ë¶€ ë™ê¸° throw

ì˜ˆ: effect ì•ˆì—ì„œ ë°”ë¡œ throw

ìº¡ì²˜: ë³´í†µ âŒ ErrorBoundary (ì¼€ì´ìŠ¤/ë²„ì „ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ë³´ì¼ ìˆ˜ ìˆì–´ë„ ë¯¿ì§€ ì•ŠëŠ” ê²Œ ì•ˆì „)

ëŒ€ì‘: effect ë‚´ë¶€ try/catch, ì—ëŸ¬ ìƒíƒœ/ë¡œê¹…

3-2. Promise rejection (async ì—ëŸ¬)

ì˜ˆ: await ì¤‘ ì‹¤íŒ¨, .then() ì²´ì¸ì—ì„œ throw

ì¦ìƒ: ì½˜ì†”ì— â€œUnhandled promise rejectionâ€

ìº¡ì²˜: âŒ ErrorBoundary

ëŒ€ì‘: try/catch + ì „ì—­ unhandledrejection ë¦¬ìŠ¤ë„ˆ(ê´€ì¸¡ìš©)

3-3. íƒ€ì´ë¨¸/ì½œë°± ì—ëŸ¬

ì˜ˆ: setTimeout, requestAnimationFrame, event listener ì½œë°±

ìº¡ì²˜: âŒ ErrorBoundary

ëŒ€ì‘: ì½œë°± ë‚´ë¶€ try/catch + cleanup

4) ë°ì´í„° íŒ¨ì¹­/ë„¤íŠ¸ì›Œí¬ ê³„ì—´ (React Query í¬í•¨)
4-1. ë„¤íŠ¸ì›Œí¬ ë ˆë²¨ ì‹¤íŒ¨

ì˜ˆ: DNS ì‹¤íŒ¨, ì—°ê²° ì‹¤íŒ¨, CORS ì°¨ë‹¨, ì˜¤í”„ë¼ì¸

ì¦ìƒ: fetchëŠ” ë³´í†µ TypeError: Failed to fetch

ëŒ€ì‘: React Query onError / retry ì •ì±… / ì˜¤í”„ë¼ì¸ UX

4-2. HTTP ì—ëŸ¬ ì‘ë‹µ (4xx/5xx)

ì˜ˆ: 404, 409, 422, 500

íŠ¹ì§•: fetchëŠ” throw ì•ˆ í•¨(ì§ì ‘ throw í•´ì•¼ í•¨)

ëŒ€ì‘: API í´ë¼ì´ì–¸íŠ¸ì—ì„œ í‘œì¤€í™”(ì—ëŸ¬ ê°ì²´ í†µì¼)

4-3. ì¸ì¦/ì¸ê°€ ì—ëŸ¬

ì˜ˆ: 401(í† í° ë§Œë£Œ), 403(ê¶Œí•œ ì—†ìŒ)

ëŒ€ì‘: ì¤‘ì•™ ì§‘ì¤‘ ì²˜ë¦¬(ë¡œê·¸ì•„ì›ƒ/ë¦¬í”„ë ˆì‹œ), í™”ë©´ì€ ê°œë³„ ì²˜ë¦¬

4-4. íƒ€ì„ì•„ì›ƒ

ì˜ˆ: ì„œë²„ ì§€ì—°, ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆ

ëŒ€ì‘: AbortController / axios timeout / React Query retry+backoff

4-5. ì„œë²„ ë°ì´í„° ìŠ¤í‚¤ë§ˆ ë¶ˆì¼ì¹˜

ì˜ˆ: ì‘ë‹µì´ ì˜ˆìƒ íƒ€ì…ê³¼ ë‹¤ë¦„, í•„ë“œ ëˆ„ë½

ëŒ€ì‘: ëŸ°íƒ€ì„ validation(zod ë“±)ë¡œ â€œë°ì´í„° ì—ëŸ¬â€ë¡œ ìŠ¹ê²©

4-6. ìºì‹œ/ë™ì‹œì„± ê´€ë ¨ ì—ëŸ¬

ì˜ˆ: stale ë°ì´í„°, optimistic update ë¡¤ë°± ì‹¤íŒ¨, race condition

ëŒ€ì‘: mutation lifecycle(onMutate/onError/onSettled) ì •êµí™”

5) ë¼ìš°íŒ…/ë„¤ë¹„ê²Œì´ì…˜ ê³„ì—´
5-1. ë¼ìš°íŠ¸ ë¡œë”/ë°ì´í„° ë¡œë”© ì‹¤íŒ¨

(ë¼ìš°í„°ì— ë”°ë¼) loader/actionì—ì„œ throw

ëŒ€ì‘: ë¼ìš°í„° ì œê³µ errorElement / route boundary

5-2. ì˜ëª»ëœ ê²½ë¡œ/íŒŒë¼ë¯¸í„°

ì˜ˆ: idê°€ ìˆ«ìì—¬ì•¼ í•˜ëŠ”ë° ë¬¸ìì—´

ëŒ€ì‘: íŒŒë¼ë¯¸í„° íŒŒì‹±/ê²€ì¦ í›„ 404/ë¦¬ë‹¤ì´ë ‰íŠ¸

6) ë²ˆë“¤/ë¦¬ì†ŒìŠ¤ ë¡œë”©(ë°°í¬/ìºì‹œ) ê³„ì—´ â€” â€œí° í™”ë©´â€ ì§„ì§œ ë²”ì¸
6-1. Chunk ë¡œë”© ì‹¤íŒ¨

ì˜ˆ: Loading chunk N failed

ì›ì¸: ë°°í¬ ì§í›„ ìºì‹œ ê¼¬ì„, CDN/ì„œë¹„ìŠ¤ì›Œì»¤

ìº¡ì²˜: React ì´ì „ ë‹¨ê³„ë¼ ErrorBoundary âŒ

ëŒ€ì‘: window.onerrorì—ì„œ ê°ì§€ í›„ reload ì•ˆë‚´/ìë™ ìƒˆë¡œê³ ì¹¨

6-2. ì •ì  ë¦¬ì†ŒìŠ¤ ë¡œë”© ì‹¤íŒ¨

CSS/í°íŠ¸/ì´ë¯¸ì§€ ê¹¨ì§

ì¦ìƒ: UI ê¹¨ì§, ê¸€ê¼´ fallback

ëŒ€ì‘: CDN/ìºì‹œ ì •ì±…, ëª¨ë‹ˆí„°ë§

6-3. ì„œë¹„ìŠ¤ì›Œì»¤/ìºì‹œ ì¶©ëŒ

ì˜¤ë˜ëœ JS/CSSê°€ ë‚¨ì•„ ì„œë¡œ ë²„ì „ ë¶ˆì¼ì¹˜

ëŒ€ì‘: SW ì—…ë°ì´íŠ¸ ì „ëµ, â€œìƒˆ ë²„ì „ ê°ì§€ ì‹œ ìƒˆë¡œê³ ì¹¨â€

7) ìƒíƒœê´€ë¦¬/ë°ì´í„° íë¦„ ê³„ì—´ (Redux/Zustand/Context í¬í•¨)
7-1. ìƒíƒœ ë¶ˆë³€ì„±/ì°¸ì¡° ë¬¸ì œ

ì˜ˆ: mutateë¡œ ì¸í•´ ë Œë”ê°€ ì•ˆ ë°”ë€œ, memoê°€ ê¼¬ì„

ëŒ€ì‘: ë¶ˆë³€ ì—…ë°ì´íŠ¸, selector ì„¤ê³„

7-2. hydration/ì´ˆê¸° ìƒíƒœ ë¶ˆì¼ì¹˜(SSR/Next.jsì¼ ë•Œ)

ì˜ˆ: â€œText content does not match server-rendered HTMLâ€

ëŒ€ì‘: í´ë¼ì´ì–¸íŠ¸ ì „ìš© ì½”ë“œ ë¶„ë¦¬, useEffectë¡œ ì´ë™

8) ë¸Œë¼ìš°ì €/í”Œë«í¼/ê¶Œí•œ ê³„ì—´
8-1. Storage/Quota ì—ëŸ¬

localStorage ê½‰ ì°¸, IndexedDB ì‹¤íŒ¨

ëŒ€ì‘: try/catch + graceful degradation

8-2. ê¶Œí•œ ê±°ë¶€

ì¹´ë©”ë¼/ë§ˆì´í¬/ìœ„ì¹˜/ì•Œë¦¼ ê¶Œí•œ

ëŒ€ì‘: ì‚¬ìš©ì ì•ˆë‚´ + ì„¤ì • ìœ ë„

8-3. Web API ì§€ì› ì•ˆ í•¨

êµ¬í˜• ë¸Œë¼ìš°ì €ì—ì„œ íŠ¹ì • API ë¯¸ì§€ì›

ëŒ€ì‘: feature detection + í´ë¦¬í•„/ëŒ€ì²´ UX

9) ì„œë“œíŒŒí‹° SDK/ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ ê³„ì—´
9-1. analytics/ads/chat ìœ„ì ¯ ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜

ì™¸ë¶€ JSê°€ throw â†’ ì•±ì—ë„ ì˜í–¥ ì¤„ ìˆ˜ ìˆìŒ

ëŒ€ì‘: ê²©ë¦¬ ë¡œë”©, ì‹¤íŒ¨í•´ë„ ì•±ì€ ì‚´ì•„ë‚¨ê²Œ

9-2. SDK ì´ˆê¸°í™” ì‹¤íŒ¨

í‚¤ ë§Œë£Œ/ë„¤íŠ¸ì›Œí¬/ì°¨ë‹¨

ëŒ€ì‘: ì´ˆê¸°í™” try/catch + fallback

10) ê°œë°œ/ë¹Œë“œ/í™˜ê²½ ì„¤ì • ê³„ì—´ (ëŸ°íƒ€ì„ì— í„°ì§€ê¸°ë„ í•¨)
10-1. env ëˆ„ë½/ì˜ëª»ëœ ì„¤ì •

ì˜ˆ: API_BASE_URL undefined

ëŒ€ì‘: ë¶€íŒ… ì‹œ ê²€ì¦(í•„ìˆ˜ env ì²´í¬)

10-2. ì†ŒìŠ¤ë§µ/ë°°í¬ ì„¤ì • ë¬¸ì œ

ì—ëŸ¬ ì¶”ì ì´ ë¶ˆê°€ëŠ¥í•´ì§(ë””ë²„ê¹… ë‚œì´ë„ í­ì¦)

ëŒ€ì‘: sourcemap ì—…ë¡œë“œ/ë³´ì•ˆ ì •ì±…

â€œìº¡ì²˜ ê°€ëŠ¥ì„±â€ìœ¼ë¡œ ë‹¤ì‹œ í•œ ë²ˆ ìš”ì•½ (ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸)

âœ… ErrorBoundaryë¡œ ì¡ëŠ” ê²ƒ

Render/Lifecycle(í´ë˜ìŠ¤), ì¼ë¶€ ë¦¬ì•¡íŠ¸ ëŸ°íƒ€ì„ ì—ëŸ¬

âŒ ErrorBoundaryë¡œ ëª» ì¡ëŠ” ê²ƒ (ë”°ë¡œ ì¡ì•„ì•¼ í•¨)

ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬, useEffect/async, timer/callback

chunk ë¡œë”© ì‹¤íŒ¨(React ì‹¤í–‰ ì „)

ì„œë¹„ìŠ¤ì›Œì»¤/ìºì‹œ ê¼¬ì„

âœ… React Queryê°€ ì¡ëŠ” ê²ƒ

query/mutation ë¹„ë™ê¸° ì—ëŸ¬(ë„¤íŠ¸ì›Œí¬/HTTP/ìŠ¤í‚¤ë§ˆ)

âœ… ì „ì—­(window)ì—ì„œ ê´€ì¸¡í•˜ëŠ” ê²ƒ

error, unhandledrejection (ì£¼ë¡œ ë¡œê¹…/ë¦¬í¬íŒ…ìš©)



Core principles (so the table actually works at scale)

Centralize:

error classification (classifyError)

logging/reporting (reportError)

auth/session handling (401/refresh/logout)

global fallbacks (ErrorBoundary, chunk-load recovery)

Localize (per component/page):

user-facing copy

recovery UI (retry button, partial fallback)

business exceptions (409/422 etc.)

Avoid toast storms: global handlers shouldnâ€™t spam toasts. Use toasts mostly at the interaction point (button/form).

Error Policy Table (All major cases)

Legend
Catch layer: where you handle it first (and where you can reliably handle it)
User UX: what the user sees
Retry: automatic retry behavior
Log/Alert: what you send to observability + whether you page someone
Severity: P0 (site down) â†’ P3 (minor)

A) App boot / Asset / Deployment errors (common â€œwhite screenâ€ causes)
Category	Typical signals	Catch layer	User UX	Retry	Log/Alert	Severity	Owner
Chunk load failed (new deploy + old cache)	Loading chunk X failed, ChunkLoadError	window.onerror + app-level bootstrap guard	â€œNew version available. Refreshâ€ + auto-reload (once)	Auto reload once, then show â€œhard refreshâ€ instructions	Log with build/version + URL; alert if spike	P0/P1	Frontend + Platform
JS parse error / syntax	Unexpected token, CSP blocks	window.onerror (React may not start)	Static fallback in index.html (â€œWeâ€™re having trouble loadingâ€¦â€)	No retry (maybe reload once)	Immediate alert; track by browser/region	P0	Frontend + Platform
CSS/asset 404	missing CSS/font	RUM metrics + Network logs	App loads but looks broken â†’ show banner â€œDisplay issue, refreshâ€	Optional refresh prompt	Alert if >X% sessions affected	P1/P2	Frontend
Service Worker cache mismatch	repeated chunk errors, offline weirdness	SW update handler + window.onerror	â€œUpdate requiredâ€ modal â†’ reload & clear SW	Auto update + reload	Alert if sustained	P1	Platform

Policy note: for 10M users, chunk-load recovery is mandatory.

B) Rendering / React runtime errors (ErrorBoundary territory)
Category	Typical signals	Catch layer	User UX	Retry	Log/Alert	Severity	Owner
Render error (undefined access, bad JSX)	Cannot read properties of undefined	Route/page ErrorBoundary first, then global	Page fallback with â€œTry againâ€ + â€œGo homeâ€	â€œReset boundaryâ€ / refetch	Log with component stack; alert if spike on new release	P1/P2	Frontend
Widget-level render error	isolated component breaks	Component boundary	Replace widget with â€œCouldnâ€™t load sectionâ€ + retry	local reset	Log; no paging unless high	P2/P3	Frontend
Infinite re-render / freeze	â€œToo many re-rendersâ€, CPU 100%	Dev prevention + runtime watchdog (RUM)	Often appears as hang; show â€œReloadâ€ if detected	reload suggestion	Alert via RUM hang metrics	P1	Frontend
Invalid hook call	duplicate React, rules violation	Build pipeline + runtime crash	Static fallback; reload wonâ€™t help	none	Immediate alert	P0	Frontend + Build
C) React Query: Queries (read) & Mutations (write)
Queries (useQuery)
Category	Typical signals	Catch layer	User UX	Retry	Log/Alert	Severity	Owner
Network down / DNS / CORS-like	fetch TypeError: Failed to fetch	Query onError + UI state	Inline â€œYou seem offlineâ€ + retry button	React Query retry with backoff (limited)	Log type=network + navigator.onLine; alert if huge	P1/P2	Frontend + Platform
Timeout	AbortError/timeout wrapper	Query onError	â€œRequest timed outâ€ + retry	retry (2â€“3)	Log latency + endpoint; alert if sustained	P1	Backend + Platform
5xx server error	status 500â€“599	Query onError	â€œWeâ€™re having trouble. Try again.â€	retry (safe reads)	Alert on error rate threshold	P0/P1	Backend
404 not found (read)	404	Component/page	Show â€œNot foundâ€ page	no	Log as info unless unexpected	P2	Product + Backend
401 unauthorized	401	Central auth handler	silent refresh; if fail â†’ login screen	retry after refresh once	Alert if refresh failing broadly	P0/P1	Platform/Auth
403 forbidden	403	Component/page	â€œNo accessâ€ + request access	no	Log security context	P2	Product/Auth
Schema mismatch / bad data	Zod parse fail, unexpected shape	queryFn validation	â€œData issueâ€ (safe fallback)	no (unless transient)	Log with payload sample (redacted); alert if spike	P1	Backend + Frontend
Mutations (useMutation)
Category	Typical signals	Catch layer	User UX	Retry	Log/Alert	Severity	Owner
Validation error	400/422 field errors	Mutation onError	Field-level errors + guidance	no	Log as info	P3	Product + Backend
Conflict	409	Mutation onError	â€œChanged elsewhere. Refresh data.â€ + â€œReloadâ€	no	Log conflict rate	P2	Backend
Rate limit	429	Mutation onError	â€œToo many requests. Wait a bit.â€	retry after delay (optional)	Alert if many users hit 429	P1/P2	Backend
5xx on write	5xx	Mutation onError	â€œSave failed. Try again.â€ + keep draft	cautious retry (idempotent only)	Alert	P0/P1	Backend
Optimistic update rollback fail	cache inconsistency	mutation lifecycle	show â€œWeâ€™ll resyncâ€ + refetch	refetch	Log with query keys	P2	Frontend
D) Event handlers / Effects / Async code (outside ErrorBoundary)
Category	Typical signals	Catch layer	User UX	Retry	Log/Alert	Severity	Owner
Handler error (onClick/onSubmit)	thrown in handler	try/catch in handler	toast/dialog + keep user input	user-driven retry	Log (include action name)	P2/P3	Frontend
Unhandled promise rejection	unhandledrejection	global listener (logging) + local try/catch	usually none; maybe banner if critical	no	Log always; alert if spike	P1/P2	Frontend
useEffect async failure	rejected promise	local try/catch	optional: silent or show inline	depends	Log; alert if widespread	P2	Frontend
E) Routing / Navigation / SSR (if applicable)
Category	Typical signals	Catch layer	User UX	Retry	Log/Alert	Severity	Owner
Route param invalid	parse fail	route guard	404 or redirect	no	Log low	P3	Frontend
Loader/action error (router data APIs)	thrown in loader	router errorElement / boundary	page fallback	retry	Log	P1/P2	Frontend
F) Browser/platform permissions & storage
Category	Typical signals	Catch layer	User UX	Retry	Log/Alert	Severity	Owner
localStorage/IndexedDB quota	QuotaExceededError	storage wrapper	â€œStorage fullâ€ + guidance	no	Log device/browser	P2	Frontend
Permission denied (camera/location)	NotAllowedError	feature wrapper	explain + â€œOpen settingsâ€	user action	Log permission states	P3	Frontend
Unsupported browser/API	feature detection fail	bootstrap guard	â€œPlease update browserâ€	no	Log browser versions	P2	Frontend
G) Third-party SDKs/scripts
Category	Typical signals	Catch layer	User UX	Retry	Log/Alert	Severity	Owner
Analytics/chat widget crash	script error	isolate + try/catch + boundary	app should continue; widget disabled	optional reload widget	Log only	P3	Frontend
Payment/auth SDK failure	init fail, blocked	wrapper + fallback flow	show â€œTry again / alternate methodâ€	limited retry	Alert if payment affected	P0/P1	Product + Platform
Standard actions (apply consistently)
1) What every error log must include (10M-user hygiene)

error_id (uuid)

category (from classifier)

severity

release_version / build_id

route, component (if available)

user_action (if handler/mutation)

endpoint, status, trace_id (backend correlation)

redacted request/response snippets (never raw PII)

2) Alert thresholds (example)

P0: checkout/login unavailable, chunk-load spikes, JS fatal spikes

P1: 5xx rate > X% for Y minutes, render errors after new release

P2: localized feature breakage

P3: expected validation/user errors

3) UX message policy

Network/offline: â€œCheck connectionâ€ + retry

401: silent refresh â†’ if fail, â€œSession expired, please sign inâ€

403: â€œNo permissionâ€

404: â€œNot foundâ€

5xx: â€œWeâ€™re having troubleâ€ + retry

Validation: inline field errors (no generic toast)

Recommended default â€œcatch mappingâ€ (so you donâ€™t miss anything)

Global

Global ErrorBoundary (last resort UI)

window.onerror + window.unhandledrejection (logging + chunk-load recovery)

Route-level

Page ErrorBoundary (best UX)

React Query

QueryClient onError â†’ logging + auth handling

Component onError â†’ user message & recovery UI

Handlers/effects

local try/catch with reportError({action/effectName})
